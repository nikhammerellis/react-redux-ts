[{"/Users/nik/dev/react-redux-ts-2020/src/components/App/App.tsx":"1","/Users/nik/dev/react-redux-ts-2020/src/index.tsx":"2","/Users/nik/dev/react-redux-ts-2020/src/components/Recorder/Recorder.tsx":"3","/Users/nik/dev/react-redux-ts-2020/src/redux/recorder.ts":"4","/Users/nik/dev/react-redux-ts-2020/src/redux/store.ts":"5","/Users/nik/dev/react-redux-ts-2020/src/redux/user-events.ts":"6","/Users/nik/dev/react-redux-ts-2020/src/components/Calendar/Calendar.tsx":"7","/Users/nik/dev/react-redux-ts-2020/src/components/Calendar/index.ts":"8","/Users/nik/dev/react-redux-ts-2020/src/components/Calendar/EventItem.tsx":"9"},{"size":251,"mtime":1608066821062,"results":"10","hashOfConfig":"11"},{"size":356,"mtime":1607641123656,"results":"12","hashOfConfig":"11"},{"size":1844,"mtime":1608233303317,"results":"13","hashOfConfig":"11"},{"size":1243,"mtime":1608065446335,"results":"14","hashOfConfig":"11"},{"size":445,"mtime":1608067375448,"results":"15","hashOfConfig":"11"},{"size":6868,"mtime":1608251900807,"results":"16","hashOfConfig":"11"},{"size":3054,"mtime":1608245979130,"results":"17","hashOfConfig":"11"},{"size":37,"mtime":1608066694338,"results":"18","hashOfConfig":"11"},{"size":2565,"mtime":1608250462634,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1krrbrc",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"31"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/nik/dev/react-redux-ts-2020/src/components/App/App.tsx",[],"/Users/nik/dev/react-redux-ts-2020/src/index.tsx",[],["41","42"],"/Users/nik/dev/react-redux-ts-2020/src/components/Recorder/Recorder.tsx",[],"/Users/nik/dev/react-redux-ts-2020/src/redux/recorder.ts",[],"/Users/nik/dev/react-redux-ts-2020/src/redux/store.ts",[],["43","44"],"/Users/nik/dev/react-redux-ts-2020/src/redux/user-events.ts",["45","46"],"/Users/nik/dev/react-redux-ts-2020/src/components/Calendar/Calendar.tsx",["47"],"import React, { useEffect } from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\nimport { RootState } from '../../redux/store';\nimport { selectUserEventsArray, loadUserEvents, UserEvent } from '../../redux/user-events';\nimport { addZero } from '../../lib/utils';\nimport './Calendar.css';\nimport EventItem from './EventItem';\n\nconst mapState = (state: RootState) => ({\n    events: selectUserEventsArray(state)\n});\n\nconst mapDispatch = {\n    loadUserEvents\n};\n\nconst connector = connect(mapState, mapDispatch);\n\ntype PropsFromRedux = ConnectedProps<typeof connector>;\n\ninterface Props extends PropsFromRedux { };\n\nconst createDateKey = (date: Date) => {\n    const year = date.getUTCFullYear();\n    const month = date.getUTCMonth() + 1;\n    const day = date.getUTCDate();\n    return `${year}-${addZero(month)}-${addZero(day)}`;\n}\n\nconst groupEventsByDay = (events: UserEvent[]) => {\n    const groups: Record<string, UserEvent[]> = {};\n\n    const addToGroup = (dateKey: string, event: UserEvent) => {\n        //check for existence, if it doesn't exist create it \n        if (groups[dateKey] === undefined) {\n            groups[dateKey] = [];\n        }\n\n        groups[dateKey].push(event);\n    };\n\n    events.forEach((event) => {\n        const dateStartKey = createDateKey(new Date(event.dateStart));\n        const dateEndKey = createDateKey(new Date(event.dateEnd));\n\n        addToGroup(dateStartKey, event);\n\n        if (dateEndKey !== dateStartKey) {\n            addToGroup(dateEndKey, event);\n        }\n    });\n\n    return groups;\n};\n\nconst Calendar: React.FC<Props> = ({ events, loadUserEvents }) => {\n    useEffect(() => {\n        loadUserEvents();\n    }, []);\n\n    let groupedEvents: ReturnType<typeof groupEventsByDay> | undefined;\n    let sortedGroupKeys: string[] | undefined;\n\n    if (events.length) {\n        groupedEvents = groupEventsByDay(events);\n        sortedGroupKeys = Object.keys(groupedEvents).sort(\n            (date1, date2) => +new Date(date2) - +new Date(date1)\n        );\n    }\n\n    return groupedEvents && sortedGroupKeys ? (\n        <div className=\"calendar\">\n\n            {sortedGroupKeys.map(dayKey => {\n                const events = groupedEvents![dayKey];\n                const groupDate = new Date(dayKey);\n                const day = groupDate.getDate();\n                const month = groupDate.toLocaleString(undefined, { month: 'long' });\n\n                return (\n                    <div key={day} className=\"calendar-day\">\n                        <div className=\"calendar-day-label\">\n                            <span>{day} {month}</span>\n                        </div>\n                        <div className=\"calendar-events\">\n                            {events.map(event => {\n                                return <EventItem key={`event_${event.id}`} event={event} />\n                            })}\n                        </div>\n                    </div>\n                );\n            })}\n        </div>\n    ) : (\n            <p>Loading...</p>\n        );\n}\n\nexport default connector(Calendar);","/Users/nik/dev/react-redux-ts-2020/src/components/Calendar/index.ts",[],"/Users/nik/dev/react-redux-ts-2020/src/components/Calendar/EventItem.tsx",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"48","replacedBy":"52"},{"ruleId":"50","replacedBy":"53"},{"ruleId":"54","severity":1,"message":"55","line":1,"column":18,"nodeType":"56","messageId":"57","endLine":1,"endColumn":27},{"ruleId":"54","severity":1,"message":"58","line":168,"column":7,"nodeType":"56","messageId":"57","endLine":168,"endColumn":22},{"ruleId":"59","severity":1,"message":"60","line":59,"column":8,"nodeType":"61","endLine":59,"endColumn":10,"suggestions":"62"},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],["63"],["64"],"@typescript-eslint/no-unused-vars","'AnyAction' is defined but never used.","Identifier","unusedVar","'updateUserEvent' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'loadUserEvents'. Either include it or remove the dependency array. If 'loadUserEvents' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["65"],"no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},"Update the dependencies array to be: [loadUserEvents]",{"range":"68","text":"69"},[1674,1676],"[loadUserEvents]"]